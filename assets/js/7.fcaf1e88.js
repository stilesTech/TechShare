(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{177:function(t,s,n){t.exports=n.p+"assets/img/251376409.cc3b242c.jpg"},178:function(t,s,n){t.exports=n.p+"assets/img/2557773529.0220c0c9.jpg"},179:function(t,s,n){t.exports=n.p+"assets/img/3462620899.64b9b88a.jpg"},180:function(t,s,n){t.exports=n.p+"assets/img/4037582657.baba7c02.jpg"},181:function(t,s,n){t.exports=n.p+"assets/img/3869712054.0a3ab79e.jpg"},182:function(t,s,n){t.exports=n.p+"assets/img/1621096654.652525f3.jpg"},183:function(t,s,n){t.exports=n.p+"assets/img/2719988944.e44b9309.jpg"},184:function(t,s,n){t.exports=n.p+"assets/img/3790967767.495b3bb2.jpg"},185:function(t,s,n){t.exports=n.p+"assets/img/1900698993.e34d4183.jpg"},186:function(t,s,n){t.exports=n.p+"assets/img/1638465169.b87615cc.jpg"},187:function(t,s,n){t.exports=n.p+"assets/img/75287297.853e4feb.jpg"},188:function(t,s,n){t.exports=n.p+"assets/img/1217804723.d620459f.jpg"},189:function(t,s,n){t.exports=n.p+"assets/img/1404944688.cad6786b.jpg"},289:function(t,s,n){"use strict";n.r(s);var e=n(4),p=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("Jenkins是一款开源 CI&CD 软件，用于自动化各种任务，包括构建、测试和部署软件。")]),t._v(" "),e("p",[t._v("官网地址:Jenkins, 默认端口8080")]),t._v(" "),e("p",[e("strong",[t._v("初始化jenkins")])]),t._v(" "),e("p",[t._v("1.浏览器输入：")]),t._v(" "),e("p",[t._v("http://localhost:8080")]),t._v(" "),e("p",[t._v("解锁jenkins")]),t._v(" "),e("p",[e("img",{attrs:{src:n(177),alt:"../uploads/2020/10/251376409.jpg"}})]),t._v(" "),e("p",[t._v("在如图所示的路径下面打开initialAdminPassword文件，复制密码输入即可")]),t._v(" "),e("p",[t._v("2.自定义Jenkins ，选择安装推荐的插件")]),t._v(" "),e("p",[e("img",{attrs:{src:n(178),alt:"../uploads/2020/10/2557773529.jpg"}})]),t._v(" "),e("ol",[e("li",[t._v("安装MSBuild和TFS插件安装")])]),t._v(" "),e("p",[t._v("在Manage Jenkins 的 Manage Plugin 里面我们找到 MSBuild 和 Team Foundation Server Plug-in 插件，勾选，点击 Download now and install after restart 按钮，勾选 Restart Jenkins when installation is complete and no jobs are running 。")]),t._v(" "),e("p",[e("img",{attrs:{src:n(179),alt:"../uploads/2020/10/3462620899.jpg"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(180),alt:"../uploads/2020/10/4037582657.jpg"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(181),alt:"../uploads/2020/10/3869712054.jpg"}})]),t._v(" "),e("p",[t._v("安装完成之后 Jenkins 会重启，等待重启完毕之后，来到 Jenkins>>Global Tool Configuration 查看 MSBuild配置msbuild的路径，我这边是安装了vs2017在安装目录下面可以找到MSBuild路径，如下图：")]),t._v(" "),e("p",[e("img",{attrs:{src:n(182),alt:"../uploads/2020/10/1621096654.jpg"}})]),t._v(" "),e("p",[e("strong",[t._v("项目构建")])]),t._v(" "),e("p",[t._v("选择FreeStyle Project(自由风格的构建)，相关配置如下图")]),t._v(" "),e("p",[e("img",{attrs:{src:n(183),alt:"../uploads/2020/10/2719988944.jpg"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(184),alt:"../uploads/2020/10/3790967767.jpg"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(185),alt:"../uploads/2020/10/1900698993.jpg"}})]),t._v(" "),e("p",[t._v("MSBuild参数说明如下：")]),t._v(" "),e("p",[t._v("/t:Rebuild (每次都是重新构建)/p:Configuration=Release （构建的是发布版本）/p:VisualStudioVersion=15.0 （vs的版本,使用的是2017填写的是15.0）/p:WebProjectOutputDir=D:\\wwwroot\\test （发布路径）/p:OutputPath=D:\\wwwroot\\test\\bin (输出路径)/p:DeployOnBuild=True （表示启用编译并发布）")]),t._v(" "),e("p",[t._v("msbuild文档："),e("a",{attrs:{href:"https://learn.microsoft.com/zh-cn/visualstudio/msbuild/msbuild?view=vs-2022",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看文档"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("msbuild15版本离线下载文件："),e("a",{attrs:{href:"https://www.microsoft.com/zh-CN/download/details.aspx?id=48159",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击下载"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("执行windows批处理命令复制目录文件到对应站点下面")]),t._v(" "),e("p",[e("img",{attrs:{src:n(186),alt:"../uploads/2020/10/1638465169.jpg"}})]),t._v(" "),e("p",[t._v("xcope source [destination] [命令参数]")]),t._v(" "),e("p",[t._v("source 指定要复制的文件")]),t._v(" "),e("p",[t._v("destination 指定新文件的位置和/或名称。")]),t._v(" "),e("p",[t._v("/s 复制目录和子目录，除了空的")]),t._v(" "),e("p",[t._v("/e 复制目录和子目录，包括空的")]),t._v(" "),e("p",[t._v("/y 禁止提示以确认改写一个现存目标文件")]),t._v(" "),e("p",[t._v("/s /e /y 表示完成拷贝； exclude")]),t._v(" "),e("p",[t._v("exclude 指定含有字符串的文件列表。每个字符串在文件中应位于单独的一行。如果任何字符串与复制文件的绝对路径的任何部分相符，则排除复制该文件。例如，指定如 \\obj\\ 或 .obj 的字符串会分别排除目录 obj 下面的所有文件或带有.obj 扩展名的所有文件。")]),t._v(" "),e("p",[e("img",{attrs:{src:n(187),alt:"../uploads/2020/10/75287297.jpg"}})]),t._v(" "),e("p",[t._v("手动构建项目,完成构建-发布的流程")]),t._v(" "),e("p",[e("img",{attrs:{src:n(188),alt:"../uploads/2020/10/1217804723.jpg"}})]),t._v(" "),e("p",[e("img",{attrs:{src:n(189),alt:"../uploads/2020/10/1404944688.jpg"}})]),t._v(" "),e("p",[e("strong",[t._v("总结")])]),t._v(" "),e("p",[t._v("整个流程通过tfs 拉取项目到jenkins安装目录的workspace目录下面，再通过msbuild编译和预发布到指定的目录，确保无误之后再通过windows xcopy命令覆盖到指定站点路径下面（此处根据需要还可以添加站点的备份）完成整个自动编译到发布的流程。")]),t._v(" "),e("p",[e("strong",[t._v("参考资料")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/tianyang1027/p/10333454.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("jekins+TFS+MsBuild实现.net的持续集成，自动化部署"),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.cnblogs.com/edisonchou/p/CD_foundation_based_on_jenkins_and_docker.html",target:"_blank",rel:"noopener noreferrer"}},[t._v(".NET Core微服务之基于Jenkins+Docker实现持续部署（Part 1）"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=p.exports}}]);