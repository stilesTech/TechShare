<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>代码审查指南 | Stiles 的技术分享</title>
    <meta name="description" content="🌟 分享效率方法 🪄、优质文章 📑、编程知识 🎹、实用工具 🛠️ 和有趣内容 😄。">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
  <link rel="manifest" href="/assets/favicons/site.webmanifest">
  <link rel="shortcut icon" href="/assets/favicons/favicon.ico">
  <link rel="feed" href="/rss.xml" type="application/rss+xml" title="stiles 的技术分享">
  <link rel="alternate" href="/rss.xml" type="application/rss+xml" title="stiles 的技术分享">
    <link rel="preload" href="/assets/js/vendor.vue.f0f8acc0.js" as="script"><link rel="preload" href="/assets/css/0.styles.f776f255.css" as="style"><link rel="preload" href="/assets/js/vendor.commons.f776f255.js" as="script"><link rel="preload" href="/assets/css/styles.94e4f4c9.css" as="style"><link rel="preload" href="/assets/js/app.94e4f4c9.js" as="script"><link rel="preload" href="/assets/css/23.styles.92c23f5d.css" as="style"><link rel="preload" href="/assets/js/23.92c23f5d.js" as="script"><link rel="preload" href="/assets/js/36.bb0f5d6b.js" as="script"><link rel="prefetch" href="/assets/css/1.styles.5abf5dc7.css"><link rel="prefetch" href="/assets/css/15.styles.b52b85a9.css"><link rel="prefetch" href="/assets/css/16.styles.9c6b8fa8.css"><link rel="prefetch" href="/assets/css/22.styles.a5f4e9b5.css"><link rel="prefetch" href="/assets/css/8.styles.81769a90.css"><link rel="prefetch" href="/assets/js/1.5abf5dc7.js"><link rel="prefetch" href="/assets/js/10.dd417a1a.js"><link rel="prefetch" href="/assets/js/11.7c288b29.js"><link rel="prefetch" href="/assets/js/12.29aeae4b.js"><link rel="prefetch" href="/assets/js/13.f270d0f1.js"><link rel="prefetch" href="/assets/js/14.88bc7ca5.js"><link rel="prefetch" href="/assets/js/15.b52b85a9.js"><link rel="prefetch" href="/assets/js/16.9c6b8fa8.js"><link rel="prefetch" href="/assets/js/17.60fe7568.js"><link rel="prefetch" href="/assets/js/18.c9f8321e.js"><link rel="prefetch" href="/assets/js/19.f20967d6.js"><link rel="prefetch" href="/assets/js/20.ca9eef5b.js"><link rel="prefetch" href="/assets/js/21.0739d44c.js"><link rel="prefetch" href="/assets/js/22.a5f4e9b5.js"><link rel="prefetch" href="/assets/js/24.f1f6e2b0.js"><link rel="prefetch" href="/assets/js/25.531ad349.js"><link rel="prefetch" href="/assets/js/26.90a0daa2.js"><link rel="prefetch" href="/assets/js/27.14b336e2.js"><link rel="prefetch" href="/assets/js/28.c056c06b.js"><link rel="prefetch" href="/assets/js/29.ad347285.js"><link rel="prefetch" href="/assets/js/30.80210909.js"><link rel="prefetch" href="/assets/js/31.dd9b922d.js"><link rel="prefetch" href="/assets/js/32.eb9e09bc.js"><link rel="prefetch" href="/assets/js/33.5ccb27ea.js"><link rel="prefetch" href="/assets/js/34.8d5861a2.js"><link rel="prefetch" href="/assets/js/35.dd156f1d.js"><link rel="prefetch" href="/assets/js/37.5253279a.js"><link rel="prefetch" href="/assets/js/38.7dd2a708.js"><link rel="prefetch" href="/assets/js/39.5e1614a9.js"><link rel="prefetch" href="/assets/js/4.55b9da59.js"><link rel="prefetch" href="/assets/js/40.c15d89b7.js"><link rel="prefetch" href="/assets/js/41.581d7518.js"><link rel="prefetch" href="/assets/js/42.04657e5e.js"><link rel="prefetch" href="/assets/js/5.ae72cf1c.js"><link rel="prefetch" href="/assets/js/6.b467ae63.js"><link rel="prefetch" href="/assets/js/7.1c75d112.js"><link rel="prefetch" href="/assets/js/8.81769a90.js"><link rel="prefetch" href="/assets/js/9.230c8586.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f776f255.css"><link rel="stylesheet" href="/assets/css/styles.94e4f4c9.css"><link rel="stylesheet" href="/assets/css/23.styles.92c23f5d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-meteorlxy"><header class="header" data-v-3054f967><div data-v-eab05d90 data-v-3054f967><nav class="navbar" data-v-eab05d90><div class="container" data-v-eab05d90><a href="/" class="router-link-active" data-v-eab05d90><span class="navbar-site-name" data-v-eab05d90>
          Stiles 的技术分享
        </span></a> <div class="navbar-toggler" data-v-eab05d90><svg class="icon" style="font-size:1.2em;" data-v-eab05d90 data-v-eab05d90><title data-v-eab05d90 data-v-eab05d90>menu</title><use xlink:href="#icon-menu" data-v-eab05d90 data-v-eab05d90></use></svg></div> <div class="navbar-links" data-v-eab05d90><a href="/" class="navbar-link" data-v-eab05d90>
            Home
          </a><a href="/posts/" class="navbar-link router-link-active" data-v-eab05d90>
            Posts
          </a><a href="/projects/" class="navbar-link" data-v-eab05d90>
            Projects
          </a><a href="http://stiles.cc/rss.xml" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-eab05d90><span data-v-eab05d90>RSS 订阅</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-eab05d90 data-v-eab05d90><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a href="https://github.com/stilesTech/TechShare" target="_blank" rel="noopener noreferrer" class="navbar-link" data-v-eab05d90><span data-v-eab05d90>Github</span> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-eab05d90 data-v-eab05d90><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav> <div class="navbar-holder" style="display:none;" data-v-eab05d90></div></div> <div class="banner" data-v-66d98992 data-v-3054f967 data-v-3054f967><div class="container" data-v-66d98992><div class="center" data-v-66d98992><h1 data-v-66d98992 data-v-3054f967>
          代码审查指南
        </h1></div></div></div></header> <div class="container clearfix show-aside" data-v-5c108b84 data-v-5c108b84><main class="main" data-v-5c108b84><div class="post" data-v-5c108b84 data-v-5c108b84><section class="post-meta main-div" data-v-0afc19fc><section class="post-date clearfix" data-v-0afc19fc><span class="create-date" data-v-0afc19fc>
      发布时间 : 2022-05-09
    </span> <!----></section> <section class="post-links" data-v-0afc19fc><a href="/posts/2022/04/26/wx-hub%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E6%96%87%E7%AB%A0%E5%90%8C%E6%AD%A5%E5%B7%A5%E5%85%B7.html" class="post-link" data-v-0afc19fc>
      上一篇 : wx-hub微信公众号文章同步工具
    </a> <a href="/posts/2022/05/10/upsource%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97.html" class="post-link" data-v-0afc19fc>
      下一篇 : Upsource实践指南
    </a></section></section> <article class="main-div"><div class="post-content content content__default"><p>代码审查的主要目的是确保代码库的整体代码健康状况随着时间的推移而改善。代码审查的所有工具和过程都是为此目的而设计的。</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a75be9014c2b4105952b8d44ad047db0~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp" alt="codereview_friendly.png"></p> <h2 id="（why）为什么要代码审查"><a href="#（why）为什么要代码审查" class="header-anchor">#</a> （why）为什么要代码审查</h2> <blockquote><p><em>Peer review—an activity in which people other than the author of a software deliverable examine it for defects and improvement opportunities—is one of the most powerful software quality tools available. Peer review methods include inspections, walkthroughs, peer desk checks, and other similar activities.</em></p> <p><em>- Karl E. Wiegers</em></p></blockquote> <p>上面这句话大概意思是: 同行评审软件交付物作者以外的其他人在其中检查缺陷和改进机会的活动,是可用的最强大的软件质量工具之一。同行评审方法包括检查、排查、同行桌面检查和其他类似活动。</p> <p>1.尽早发现 Bug 和设计中存在的问题,统一编码风格.</p> <p>2.知识共享，获得最佳实践（如果在您的代码被审查时某个人建议一种更好的方法去做一些事）</p> <p>3.提高代码质量（当人们知道有人在阅读信息时，他们往往会写的更好）</p> <p>4.了解项目状态，至少有另一个人熟悉你的代码</p> <h2 id="（who）谁做代码审查"><a href="#（who）谁做代码审查" class="header-anchor">#</a> （who）谁做代码审查</h2> <p>项目经理/架构师/相关开发人员/比你更资深的程序员，希望得到他们的专业反馈</p> <h2 id="（how）如何进行代码审查"><a href="#（how）如何进行代码审查" class="header-anchor">#</a> （how）如何进行代码审查</h2> <h2 id="_1-规范标准"><a href="#_1-规范标准" class="header-anchor">#</a> 1 规范标准</h2> <ol><li>原子性提交。一个提交包含一个不可分割的特性、修复或者优化，同时这个提交要尽可能小。(提交尽可能小可以聚焦，让错误/问题 一目了然)</li> <li>使用统一的代码风格 （阿里巴巴JAVA开发规范）</li> <li>当遇到代码冲突出现共识冲突的情况，通过视频/面对面询问的方式，而非通过代码审查评论来解决冲突。</li></ol> <h2 id="_2-审查的时机"><a href="#_2-审查的时机" class="header-anchor">#</a> 2 审查的时机</h2> <p>最好的审查时机是，功能分支自测完成后，需要合并到 develop 分支申请提测前。越往后修改成本越高。</p> <p>提交 ：原则上至少一天提交一次。</p> <p>审查：代码审查理论上可以在任何碎片化时间进行，推荐在每天早上或者下班前抽出一段固定的时间审查前天/当天提交的代码。</p> <p>时间：单次代码审查的时间保持在5-20分钟</p> <h2 id="_3-代码评审应该关注的重点"><a href="#_3-代码评审应该关注的重点" class="header-anchor">#</a> 3 代码评审应该关注的重点</h2> <ul><li>代码设计是否合理，是否有违背基本的设计模式理念（SOLID）</li> <li>代码的行为是否符合作者的预期，是否明显的逻辑错误</li> <li>是否符合系统的代码规范</li> <li>代码的可读性和可维护性是否良好，是否可以更简单。</li> <li>类，变量，方法等命名是否清晰</li></ul> <p><strong>参考资料</strong></p> <p>Google 工程实践文档:<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgoogle%2Feng-practices" target="_blank" rel="noopener noreferrer">github.com/google/eng-…<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div></article> <section class="post-meta main-div" data-v-0afc19fc><section class="post-date clearfix" data-v-0afc19fc><span class="create-date" data-v-0afc19fc>
      发布时间 : 2022-05-09
    </span> <!----></section> <section class="post-links" data-v-0afc19fc><a href="/posts/2022/04/26/wx-hub%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E6%96%87%E7%AB%A0%E5%90%8C%E6%AD%A5%E5%B7%A5%E5%85%B7.html" class="post-link" data-v-0afc19fc>
      上一篇 : wx-hub微信公众号文章同步工具
    </a> <a href="/posts/2022/05/10/upsource%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97.html" class="post-link" data-v-0afc19fc>
      下一篇 : Upsource实践指南
    </a></section></section> <div id="post-comments" class="main-div"><!----></div></div></main> <aside class="aside" data-v-5c108b84><div class="info-card main-div" data-v-1732e38d data-v-5c108b84><div class="info-card-header" data-v-1732e38d><img src="/assets/img/avatar.jpg" alt="Stiles" class="info-avatar" data-v-1732e38d></div> <div class="info-card-body" data-v-1732e38d><section class="info-nickname" data-v-1732e38d>
      Stiles
    </section> <section class="info-desc" data-v-1732e38d>一个梦想成为优秀架构师的程序员。座右铭：stay hungry stay foolish</section> <section class="info-contact" data-v-1732e38d><section data-v-1732e38d><span title="Shenzhen, China" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>Shenzhen, China</title><use xlink:href="#icon-location" data-v-1732e38d data-v-1732e38d></use></svg><span class="info-text" data-v-1732e38d data-v-1732e38d>
          Shenzhen, China
        </span></span></section> <section data-v-1732e38d><span title="YoYo" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>YoYo</title><use xlink:href="#icon-organization" data-v-1732e38d data-v-1732e38d></use></svg><span class="info-text" data-v-1732e38d data-v-1732e38d>
          YoYo
        </span></span></section> <section data-v-1732e38d><a href="mailto:stilesting@gmail.com" title="stilesting@gmail.com" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>stilesting@gmail.com</title><use xlink:href="#icon-email" data-v-1732e38d data-v-1732e38d></use></svg><span class="info-text" data-v-1732e38d data-v-1732e38d>
          stilesting@gmail.com
        </span></a></section></section></div> <div class="info-card-footer" data-v-1732e38d><section class="info-sns clearfix" data-v-1732e38d><a href="https://github.com/stilesTech" target="_blank" class="sns-link" data-v-1732e38d><span title="GitHub: stiles" class="sns-icon" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1.5em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>GitHub: stiles</title><use xlink:href="#icon-github" data-v-1732e38d data-v-1732e38d></use></svg></span></a><a href="https://twitter.com/tiingou" target="_blank" class="sns-link" data-v-1732e38d><span title="Twitter: tiingou" class="sns-icon" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1.5em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>Twitter: tiingou</title><use xlink:href="#icon-twitter" data-v-1732e38d data-v-1732e38d></use></svg></span></a><a href="https://hub.docker.com/u/stilesboy" target="_blank" class="sns-link" data-v-1732e38d><span title="Docker Hub: stiles" class="sns-icon" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1.5em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>Docker Hub: stiles</title><use xlink:href="#icon-docker" data-v-1732e38d data-v-1732e38d></use></svg></span></a><a href="https://juejin.im/user/4103806975222104" target="_blank" class="sns-link" data-v-1732e38d><span title="掘金: stiles" class="sns-icon" data-v-1732e38d data-v-1732e38d><svg class="icon" style="font-size:1.5em;" data-v-1732e38d data-v-1732e38d><title data-v-1732e38d data-v-1732e38d>掘金: stiles</title><use xlink:href="#icon-juejin" data-v-1732e38d data-v-1732e38d></use></svg></span></a></section></div></div> <div class="post-nav-card main-div" style="position:relative;top:0;width:0px;" data-v-5c108b84><div class="post-nav-contents"><svg class="icon"><title>book</title><use xlink:href="#icon-book"></use></svg> <span>文章目录</span> <div class="post-nav-toc"><ul><li><a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#（why）为什么要代码审查">（why）为什么要代码审查</a></li><li><a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#（who）谁做代码审查">（who）谁做代码审查</a></li><li><a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#（how）如何进行代码审查">（how）如何进行代码审查</a></li><li><a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#_1-规范标准">1 规范标准</a></li><li><a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#_2-审查的时机">2 审查的时机</a></li><li><a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#_3-代码评审应该关注的重点">3 代码评审应该关注的重点</a></li></ul></div></div> <div class="post-nav-comments"><svg class="icon"><title>comment</title><use xlink:href="#icon-comment"></use></svg> <a href="/posts/2022/05/09/%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E6%8C%87%E5%8D%97.html#post-comments">
      评论
    </a></div></div></aside></div> <footer class="footer" data-v-2c67d6af><p class="footer-sns-links" data-v-2c67d6af><a href="https://github.com/stilesTech" target="_blank" class="sns-link" data-v-2c67d6af><span title="GitHub: stiles" class="sns-icon" data-v-2c67d6af data-v-2c67d6af><svg class="icon" style="font-size:25px;" data-v-2c67d6af data-v-2c67d6af><title data-v-2c67d6af data-v-2c67d6af>GitHub: stiles</title><use xlink:href="#icon-github" data-v-2c67d6af data-v-2c67d6af></use></svg></span></a><a href="https://twitter.com/tiingou" target="_blank" class="sns-link" data-v-2c67d6af><span title="Twitter: tiingou" class="sns-icon" data-v-2c67d6af data-v-2c67d6af><svg class="icon" style="font-size:25px;" data-v-2c67d6af data-v-2c67d6af><title data-v-2c67d6af data-v-2c67d6af>Twitter: tiingou</title><use xlink:href="#icon-twitter" data-v-2c67d6af data-v-2c67d6af></use></svg></span></a><a href="https://hub.docker.com/u/stilesboy" target="_blank" class="sns-link" data-v-2c67d6af><span title="Docker Hub: stiles" class="sns-icon" data-v-2c67d6af data-v-2c67d6af><svg class="icon" style="font-size:25px;" data-v-2c67d6af data-v-2c67d6af><title data-v-2c67d6af data-v-2c67d6af>Docker Hub: stiles</title><use xlink:href="#icon-docker" data-v-2c67d6af data-v-2c67d6af></use></svg></span></a><a href="https://juejin.im/user/4103806975222104" target="_blank" class="sns-link" data-v-2c67d6af><span title="掘金: stiles" class="sns-icon" data-v-2c67d6af data-v-2c67d6af><svg class="icon" style="font-size:25px;" data-v-2c67d6af data-v-2c67d6af><title data-v-2c67d6af data-v-2c67d6af>掘金: stiles</title><use xlink:href="#icon-juejin" data-v-2c67d6af data-v-2c67d6af></use></svg></span></a></p> <p class="footer-text" data-v-2c67d6af><span data-v-2c67d6af>Powered by </span> <a href="https://github.com/vuejs/vuepress" target="_blank" data-v-2c67d6af>
      VuePress
    </a> <span data-v-2c67d6af> | </span> <a href="https://github.com/meteorlxy/vuepress-theme-meteorlxy" target="_blank" data-v-2c67d6af>
        meteorlxy
      </a></p> <p class="footer-text" data-v-2c67d6af>Copyright 2023-present <a href="https://beian.miit.gov.cn/" target="_blank">粤ICP备2021014324号-1</a> | MIT License</p></footer></div><div class="global-ui"><!----><!----></div></div>
    <script src="/assets/js/vendor.vue.f0f8acc0.js" defer></script><script src="/assets/js/23.92c23f5d.js" defer></script><script src="/assets/js/36.bb0f5d6b.js" defer></script><script src="/assets/js/vendor.commons.f776f255.js" defer></script><script src="/assets/js/app.94e4f4c9.js" defer></script>
  </body>
</html>
